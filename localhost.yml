- hosts: localhost
  connection: local
  gather_facts: no
  become: no
  vars:
    homebrew_taps:
      - caskroom/cask

    homebrew_packages:
      -{ name: ansible }
      -{ name: nodebrew }
      -{ name: brew-cask }
      -{ name: git }
      -{ name: python }
      -{ name: rvm }

    homebrew_cask_pakages:
      - atom
      - vagrant
      - virtualbox
      - google-chrome
      - google-drive
      - java
      - kobito
      - dropbox

  tasks:
      # update homebrew
      - name: update homebrew
        homebrew: update_homebrew=yes
        # brew tap
      - name: install taps of homebrew
        homebrew_tap: tap="{{ item }}" state=present
        with_items: homebrew_taps

        # brew instal
      - name: install homebrew packages
        homebrew: name="{{ item.name }}" state="{{ item.state|default('latest') }}" install_options="{{ item.install_options|default() }}"
        with_items: homebrew_packages

        #brew cask install
      - name: update brew-cask
        homebrew: name=brew-cask state=latest

      - name: install homebrew cask packages
        homebrew_cask: name="{{ item }}" state=present
        with_items: homebrew_cask_packages
